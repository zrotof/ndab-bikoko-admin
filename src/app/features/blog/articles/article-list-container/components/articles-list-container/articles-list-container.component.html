<div class="articles-list-container">
    <div class="article-list">

        @if(articles()?.length > 0) {
        <p-table [value]="articles()" responsiveLayout="scroll">

            <ng-template pTemplate="header">
                <tr>
                    <th>
                        Image
                    </th>
                    <th>Titre</th>
                    <th>Description</th>
                    <th>Date</th>
                    <th class="table-actions-column-header">Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-article let-rowIndex="rowIndex">
                <tr>
                    <td class="table-image ">
                        @if (article.coverImage) {
                        <img [ngSrc]="article.coverImage" width="40" height="40">

                        }
                        @else {
                        /
                        }
                    </td>

                    <td>{{article.title}}</td>
                    <td [innerHTML]="article.description">
                    <td> {{article.date | date:'d MMMM y':'':'fr'}} </td>
                    <td class="table-actions-header">
                        <i class="pi pi-ellipsis-v" (click)="op.toggle($event)"></i>

                        <p-overlayPanel #op>
                            <ng-template pTemplate>
                                <div class="table-actions-overlay-panel">
                                    <i (click)="editArticle(article.id)" class="pi pi-pencil"></i>
                                    <i (click)="deleteArticle(article.id, article.rubricId)" class="pi pi-trash"></i>
                                </div>
                            </ng-template>
                        </p-overlayPanel>
                    </td>
                </tr>
            </ng-template>

        </p-table>
        }
        @else {
        <p>Aucun article de cette rubrique n'a encore été enregistré pour le moment.</p>
        }
    </div>
</div>