"use strict";(self.webpackChunkforyou_admin=self.webpackChunkforyou_admin||[]).push([[114],{8114:(I,U,a)=>{a.r(U),a.d(U,{UsersModule:()=>ee});var h=a(6895),f=a(298),u=a(433),c=a(805),A=a(9808),x=a(7976),C=a(5487),e=a(8256),_=a(1802),Z=a(2453),y=a(1740),T=a(5722);function w(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"h1",13),e._uU(2,"Ajouter Un Utilisateur"),e.qZA(),e.TgZ(3,"p",14),e._uU(4,"Ajout d'un nouvel utilisateur"),e.qZA(),e.TgZ(5,"div",15)(6,"button",16),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.onSaveUser())}),e._UZ(7,"i",17),e._uU(8," Ajouter "),e.qZA(),e.TgZ(9,"button",18),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.onCancelAddEditUser())}),e._UZ(10,"i",19),e._uU(11," Annuler "),e.qZA()()()}}function b(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"h1",13),e._uU(2,"Modifier Utilisateur"),e.qZA(),e.TgZ(3,"div",15)(4,"button",16),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.onEdituser())}),e._UZ(5,"i",20),e._uU(6," Modifier "),e.qZA(),e.TgZ(7,"button",18),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.onCancelAddEditUser())}),e._UZ(8,"i",19),e._uU(9," Annuler "),e.qZA()()()}}function p(s,o){1&s&&(e.TgZ(0,"span",23),e._uU(1,"Pr\xe9nom(s) manquant(s)"),e.qZA())}function n(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,p,2,0,"span",22),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formControls.firstname.errors?null:t.formControls.firstname.errors.required)}}function r(s,o){1&s&&(e.TgZ(0,"span",23),e._uU(1,"Nom(s) manquant(s)"),e.qZA())}function l(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,r,2,0,"span",22),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formControls.lastname.errors?null:t.formControls.lastname.errors.required)}}function g(s,o){1&s&&(e.TgZ(0,"span",23),e._uU(1,"Veuillez renseignez l'email"),e.qZA())}function v(s,o){1&s&&(e.TgZ(0,"span",23),e._uU(1,"Veuillez renseigner une adresse mail valide"),e.qZA())}function M(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,g,2,0,"span",22),e.YNc(2,v,2,0,"span",22),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formControls.email.errors?null:t.formControls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formControls.email.errors?null:t.formControls.email.errors.pattern)}}function F(s,o){1&s&&(e.TgZ(0,"span"),e._uU(1,"Veuillez renseignez le mot de passe"),e.qZA())}function N(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,F,2,0,"span",1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formControls.password.errors?null:t.formControls.password.errors.required)}}function B(s,o){if(1&s&&(e.TgZ(0,"div",3)(1,"label",4),e._uU(2,"Mot de passe"),e.qZA(),e._UZ(3,"input",24),e.YNc(4,N,2,1,"div",6),e.qZA()),2&s){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.formControls.password.invalid&&(t.isSaveButtonClicked||t.isEditButtonClicked))}}function Y(s,o){1&s&&(e.TgZ(0,"span"),e._uU(1,"Veuillez renseignez le/les role(s) de l'utilisateur"),e.qZA())}function J(s,o){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,Y,2,0,"span",1),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formControls.roles.errors?null:t.formControls.roles.errors.required)}}let P=(()=>{class s{constructor(t,i,d,m,E,te){this.fb=t,this.messageService=i,this.router=d,this.activatedRoute=m,this.location=E,this.userService=te,this.roles=Object.keys(C.G).filter(se=>isNaN(+se)),this.isSaveButtonClicked=!1,this.isEditButtonClicked=!1,this.isEditMode=!1,this.isImageEdit=!1,this.positionsList=[],this.employeesList=[],this.userForm=this.fb.group({firstname:["",u.kI.required],lastname:["",u.kI.required],email:["",[u.kI.required,u.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",u.kI.required],roles:[[],u.kI.required]})}ngOnInit(){this.checkEditMode()}get formControls(){return this.userForm.controls}checkEditMode(){this.activatedRoute.params.subscribe(t=>{t.id&&(this.isEditMode=!0,this.isEditMode&&this.userForm.controls.password.removeValidators(u.kI.required),this.userService.getUserById(t.id).subscribe(i=>{"success"===i.status&&(this.initialUserDataBeforeEdit=i.data,this.userForm.controls.firstname.setValue(this.initialUserDataBeforeEdit.firstname),this.userForm.controls.lastname.setValue(this.initialUserDataBeforeEdit.lastname),this.userForm.controls.email.setValue(this.initialUserDataBeforeEdit.email),this.userForm.controls.roles.setValue(this.initialUserDataBeforeEdit.roles))},()=>{this.messageService.add({severity:"warn",detail:"\xc9mission inexistante, contactez le webmaster"})}))},()=>{this.messageService.add({severity:"warn",detail:"Destination populaire inconnue"})})}onSaveUser(){if(this.isSaveButtonClicked=!0,this.userForm.invalid)return;const t={firstname:this.userForm.controls.firstname.value,lastname:this.userForm.controls.lastname.value,email:this.userForm.controls.email.value,password:this.userForm.controls.password.value,roles:this.userForm.controls.roles.value.join("|")};this.userService.addUser(t).subscribe(i=>{this.messageService.add({severity:"success",detail:i.message}),(0,A.n)((0,x.H)(2e3)).then(()=>{this.location.back()})},i=>{this.messageService.add({severity:"info",detail:i.error.message})})}onCancelAddEditUser(){this.router.navigateByUrl("/utilisateurs")}onEdituser(){if(this.isEditButtonClicked=!0,this.userForm.controls.roles.value.length<1)return;if(this.userForm.controls.firstname.value==this.initialUserDataBeforeEdit.firstname&&this.userForm.controls.lastname.value==this.initialUserDataBeforeEdit.lastname&&this.userForm.controls.email.value==this.initialUserDataBeforeEdit.email&&this.checkIfTwoArraysAreEquals(this.userForm.controls.roles.value,this.initialUserDataBeforeEdit.roles))return void this.messageService.add({severity:"info",detail:"Aucune modification enregistr\xe9e"});let t={};this.userForm.controls.firstname.value!==this.initialUserDataBeforeEdit.firstname&&(t={...t,firstname:this.userForm.controls.firstname.value}),this.userForm.controls.lastname.value!==this.initialUserDataBeforeEdit.lastname&&(t={...t,lastname:this.userForm.controls.lastname.value}),this.userForm.controls.email.value!==this.initialUserDataBeforeEdit.email&&(t={...t,email:this.userForm.controls.email.value}),this.checkIfTwoArraysAreEquals(this.userForm.controls.roles.value,this.initialUserDataBeforeEdit.roles)||(t={...t,roles:this.userForm.controls.roles.value.join("|")}),this.userService.editUser(this.initialUserDataBeforeEdit.id,t).subscribe(i=>{i.status&&(this.messageService.add({severity:"success",detail:i.message}),(0,A.n)((0,x.H)(2e3)).then(()=>{this.location.back()}))},()=>{this.messageService.add({severity:"info",detail:"\xc9diteur inconnu"})})}checkIfTwoArraysAreEquals(t,i){return t.sort().toString()==i.sort().toString()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.QS),e.Y36(c.ez),e.Y36(f.F0),e.Y36(f.gz),e.Y36(h.Ye),e.Y36(_.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users-add-edit"]],features:[e._Bn([c.ez])],decls:28,vars:9,consts:[[1,"add-edit-user"],[4,"ngIf"],[3,"formGroup"],[1,"field"],[1,"block"],["type","text","pInputText","","formControlName","firstname","placeholder","Pr\xe9nom(s)"],["class","form-error",4,"ngIf"],[1,"p-error"],["type","text","pInputText","","formControlName","lastname","placeholder","Nom(s)"],["type","email","pInputText","","formControlName","email","placeholder","Entrez l'adresse mail"],["class","field",4,"ngIf"],["id","presenters","formControlName","roles","defaultLabel","Ajouter le/les role(s)","display","chip",3,"options"],["position","top-right"],[1,"title"],[1,"sub-title"],[1,"actions"],["type","submit",1,"add",3,"click"],[1,"pi","pi-plus"],["type","button",1,"cancel",3,"click"],[1,"pi","pi-times"],[1,"pi","pi-pencil"],[1,"form-error"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","text","pInputText","","formControlName","password","placeholder","Entrez le mot de passe "]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,w,12,0,"div",1),e.YNc(2,b,10,0,"div",1),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Entrez le/les pr\xe9nom(s)"),e.qZA(),e._UZ(7,"input",5),e.YNc(8,n,2,1,"div",6),e._UZ(9,"small",7),e.qZA(),e.TgZ(10,"div",3)(11,"label",4),e._uU(12,"Entrez le/les nom(s)"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,l,2,1,"div",6),e._UZ(15,"small",7),e.qZA(),e.TgZ(16,"div",3)(17,"label",4),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",9),e.YNc(20,M,3,2,"div",6),e.qZA(),e.YNc(21,B,5,1,"div",10),e.TgZ(22,"div",3)(23,"label",4),e._uU(24,"Roles"),e.qZA(),e._UZ(25,"p-multiSelect",11),e.YNc(26,J,2,1,"div",6),e.qZA()(),e._UZ(27,"p-toast",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!i.isEditMode),e.xp6(1),e.Q6J("ngIf",i.isEditMode),e.xp6(1),e.Q6J("formGroup",i.userForm),e.xp6(5),e.Q6J("ngIf",i.formControls.firstname.invalid&&(i.isSaveButtonClicked||i.isEditButtonClicked)),e.xp6(6),e.Q6J("ngIf",i.formControls.lastname.invalid&&(i.isSaveButtonClicked||i.isEditButtonClicked)),e.xp6(6),e.Q6J("ngIf",i.formControls.email.invalid&&(i.isSaveButtonClicked||i.isEditButtonClicked)),e.xp6(1),e.Q6J("ngIf",!i.isEditMode),e.xp6(4),e.Q6J("options",i.roles),e.xp6(1),e.Q6J("ngIf",i.formControls.roles.invalid&&(i.isSaveButtonClicked||i.isEditButtonClicked)))},dependencies:[h.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,Z.FN,y.o,T.NU],styles:[".add-edit-user{display:flex;flex-direction:column}.add-edit-user .actions{display:flex;justify-content:flex-end;padding:5px 10px;background-color:#fff;margin:60px 0 30px}.add-edit-user .actions button{display:flex;align-items:center;outline:none;padding:6px 10px;border-radius:100px;color:green;width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#fff;margin:10px}.add-edit-user .actions button i{margin-right:5px}.add-edit-user .actions .add{border:solid #1172c2;color:#1172c2}.add-edit-user .actions .add:hover{border:solid #1172c2;color:#fff;background-color:#1172c2}.add-edit-user .actions .cancel{border:solid gray;color:gray}.add-edit-user .actions .cancel:hover{border:solid gray;color:#fff;background-color:gray}.add-edit-user form{display:flex;justify-content:center;flex-direction:column;margin:0 auto;max-width:550px;width:100%;background-color:#fff;padding:60px;box-shadow:#32325d40 0 13px 27px -5px,#0000004d 0 8px 16px -8px}.add-edit-user form .field{display:flex;flex-direction:column;margin-bottom:20px;width:100%}.add-edit-user form .field label{margin-bottom:7px}.add-edit-user form .field small{margin:10px 0 0}.add-edit-user form .field p-multiselect{width:100%}.add-edit-user form .field p-multiselect .p-multiselect{width:100%}@media all and (max-width: 1024px){.add-edit-user form .left,.add-edit-user form .right{width:50%}}@media all and (max-width: 935px){.add-edit-user form{flex-direction:column-reverse}.add-edit-user form .left{width:300px;margin:auto}.add-edit-user form .left .preview{height:200px}.add-edit-user form .right{width:100%;margin-left:0;margin-bottom:20px}}\n"],encapsulation:2}),s})();var k=a(2137),O=a(2435),S=a(2249),q=a(6256);function L(s,o){1&s&&(e.TgZ(0,"div")(1,"span"),e._uU(2,"Aucun utilisateur n'a encore \xe9t\xe9 cr\xe9\xe9."),e.qZA()())}function z(s,o){1&s&&(e.TgZ(0,"tr"),e._UZ(1,"th",9),e.TgZ(2,"th"),e._uU(3,"Nom"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Role(s)"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Email"),e.qZA(),e.TgZ(8,"th",10),e._uU(9,"Actions"),e.qZA()())}function D(s,o){if(1&s&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&s){const t=o.$implicit;e.xp6(2),e.hij("- ",t,"")}}function Q(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",16)(1,"i",17),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,m=e.oxw(3);return e.KtG(m.editUser(d.id))}),e.qZA(),e.TgZ(2,"i",18),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit,m=e.oxw(3);return e.KtG(m.deleteUser(d))}),e.qZA()()}}function j(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.YNc(6,D,3,1,"ng-container",11),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",12)(10,"i",13),e.NdJ("click",function(d){e.CHM(t);const m=e.MAs(12);return e.KtG(m.toggle(d))}),e.qZA(),e.TgZ(11,"p-overlayPanel",null,14),e.YNc(13,Q,3,0,"ng-template",15),e.qZA()()()}if(2&s){const t=o.$implicit,i=o.rowIndex;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.AsE("",t.firstname," ",t.lastname,""),e.xp6(2),e.Q6J("ngForOf",t.roles),e.xp6(2),e.Oqu(t.email)}}const V=function(){return{width:"50vw"}},H=function(){return{"960px":"75vw","640px":"100vw"}};function G(s,o){if(1&s&&(e.TgZ(0,"p-table",4),e.YNc(1,z,10,0,"ng-template",5),e.YNc(2,j,14,5,"ng-template",6),e.qZA(),e._UZ(3,"p-confirmDialog",7)(4,"p-toast",8)),2&s){const t=e.oxw(2);e.Q6J("value",t.users),e.xp6(3),e.Akn(e.DdM(4,V)),e.Q6J("breakpoints",e.DdM(5,H))}}function K(s,o){if(1&s&&(e.TgZ(0,"div",1),e.YNc(1,L,3,0,"div",2),e.YNc(2,G,5,6,"ng-template",null,3,e.W1O),e.qZA()),2&s){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",0==i.users.length)("ngIfElse",t)}}let R=(()=>{class s{constructor(t,i,d,m,E){this.messageService=t,this.confirmationService=i,this.router=d,this.userService=m,this.authService=E,this.deleteUserEvent=new e.vpe}editUser(t){this.userService.getUserById(t).subscribe(i=>{this.router.navigate([`utilisateurs/modifier/${t}`],{queryParamsHandling:"preserve"})},i=>{this.messageService.add({severity:"error",detail:"Erreur, contactez webmaster"})})}deleteUser(t){"sm-digitalizer@amadou-ba.sn"!==t.email?this.confirmationService.confirm({message:"Voulez-vous vraiment supprimer ce compte?",accept:()=>{this.deleteUserEvent.emit(t.id)},reject:i=>{i===c.wB.REJECT&&this.messageService.add({severity:"info",detail:"Suppression annul\xe9e"})}}):this.messageService.add({severity:"error",detail:"Vous ne pouvez pas supprimer cet utilisateur"})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(c.ez),e.Y36(c.YP),e.Y36(f.F0),e.Y36(_.f),e.Y36(q.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users-list"]],inputs:{users:"users"},outputs:{deleteUserEvent:"deleteUserEvent"},standalone:!0,features:[e._Bn([c.ez,c.YP]),e.jDz],decls:1,vars:1,consts:[["class","list-users",4,"ngIf"],[1,"list-users"],[4,"ngIf","ngIfElse"],["tableau",""],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["styleClass","delete-message","header","Confirmation de suppression","acceptLabel","Oui","rejectLabel","Non",3,"breakpoints"],["position","top-right"],[1,"count"],[1,"last-column"],[4,"ngFor","ngForOf"],[1,"row-actions"],[1,"pi","pi-ellipsis-v",3,"click"],["op",""],["pTemplate",""],[1,"row-actions-event"],[1,"pi","pi-pencil",3,"click"],[1,"pi","pi-trash",3,"click"]],template:function(t,i){1&t&&e.YNc(0,K,4,2,"div",0),2&t&&e.Q6J("ngIf",i.users)},dependencies:[h.O5,h.ax,S.U$,S.iA,c.jx,O.y,O.T,Z.EV,Z.FN,k.D,k.Q],styles:[".list-users[_ngcontent-%COMP%]{display:flex;flex-direction:column}.list-users[_ngcontent-%COMP%]   .last-column[_ngcontent-%COMP%], .list-users[_ngcontent-%COMP%]   .row-actions[_ngcontent-%COMP%]{text-align:right}.list-users[_ngcontent-%COMP%]   .row-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:6px;font-weight:700;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;border:1.5px solid white}.list-users[_ngcontent-%COMP%]   .row-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{border:1.5px solid #191922}.row-actions-event[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row-actions-event[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:6px;font-weight:700;margin:5px 0;border-radius:50%;cursor:pointer}.row-actions-event[_ngcontent-%COMP%]   .pi-trash[_ngcontent-%COMP%]{color:red;border:1px solid red}.row-actions-event[_ngcontent-%COMP%]   .pi-trash[_ngcontent-%COMP%]:hover{color:#fff;background-color:red}.row-actions-event[_ngcontent-%COMP%]   .pi-pencil[_ngcontent-%COMP%]{color:green;border:1px solid green}.row-actions-event[_ngcontent-%COMP%]   .pi-pencil[_ngcontent-%COMP%]:hover{color:#fff;background-color:green}.p-datatable[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.5rem 1rem!important}"]}),s})();const $=[{path:"",component:(()=>{class s{constructor(t,i,d,m,E){this.userService=t,this.messageService=i,this.confirmationService=d,this.router=m,this.authService=E}ngOnInit(){this.getusers()}getusers(){this.usersList$=this.userService.getUsersList()}deleteUserById(t){this.userService.deleteUser(t).subscribe(d=>{this.getusers(),this.messageService.add({severity:"success",detail:d.message})},d=>{this.messageService.add({severity:"error",detail:"Erreur syst\xe8me: faire appel au webmaster"})})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.f),e.Y36(c.ez),e.Y36(c.YP),e.Y36(f.F0),e.Y36(q.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user-list-container"]],standalone:!0,features:[e._Bn([c.ez,c.YP]),e.jDz],decls:11,vars:3,consts:[[1,"user-list-container"],[1,"title"],[1,"sub-title"],[1,"actions"],["type","button","routerLink","/utilisateurs/creer",1,"add-user"],[1,"pi","pi-plus"],[3,"users","deleteUserEvent"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Gestion Des Utilisateurs "),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Liste des utilisateurs de la partie admin"),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e._UZ(7,"i",5),e._uU(8," Ajouter un utilisateur "),e.qZA()(),e.TgZ(9,"app-users-list",6),e.NdJ("deleteUserEvent",function(m){return i.deleteUserById(m)}),e.ALo(10,"async"),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("users",e.lcZ(10,1,i.usersList$)))},dependencies:[h.Ov,f.rH,R],styles:[".user-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-list-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:5px 10px;background-color:#f1f1f1;margin:60px 0 30px}.user-list-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-user[_ngcontent-%COMP%]{display:flex;align-items:center;outline:none;border:solid green;padding:6px 10px;border-radius:100px;color:green;width:-moz-fit-content;width:fit-content;cursor:pointer;background-color:#fff}.user-list-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-user[_ngcontent-%COMP%]:hover{background-color:green;color:#fff}.user-list-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .add-user[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"]}),s})()},{path:"creer",component:P},{path:"modifier/:id",component:P}];let X=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[f.Bz.forChild($),f.Bz]}),s})();var W=a(3607);let ee=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.ez,X,W.W,u.UX]}),s})()},9808:(I,U,a)=>{a.d(U,{n:()=>f});var h=a(6805);function f(u,c){const A="object"==typeof c;return new Promise((x,C)=>{let _,e=!1;u.subscribe({next:Z=>{_=Z,e=!0},error:C,complete:()=>{e?x(_):A?x(c.defaultValue):C(new h.K)}})})}},7976:(I,U,a)=>{a.d(U,{H:()=>b});var h=a(9751),f=a(727);class u extends f.w0{constructor(n,r){super()}schedule(n,r=0){return this}}const c={setInterval(p,n,...r){const{delegate:l}=c;return l?.setInterval?l.setInterval(p,n,...r):setInterval(p,n,...r)},clearInterval(p){const{delegate:n}=c;return(n?.clearInterval||clearInterval)(p)},delegate:void 0};var A=a(8737);const C={now:()=>(C.delegate||Date).now(),delegate:void 0};class e{constructor(n,r=e.now){this.schedulerActionCtor=n,this.now=r}schedule(n,r=0,l){return new this.schedulerActionCtor(this,n).schedule(l,r)}}e.now=C.now;const y=new class _ extends e{constructor(n,r=e.now){super(n,r),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:r}=this;if(this._active)return void r.push(n);let l;this._active=!0;do{if(l=n.execute(n.state,n.delay))break}while(n=r.shift());if(this._active=!1,l){for(;n=r.shift();)n.unsubscribe();throw l}}}(class x extends u{constructor(n,r){super(n,r),this.scheduler=n,this.work=r,this.pending=!1}schedule(n,r=0){if(this.closed)return this;this.state=n;const l=this.id,g=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(g,l,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(g,this.id,r),this}requestAsyncId(n,r,l=0){return c.setInterval(n.flush.bind(n,this),l)}recycleAsyncId(n,r,l=0){if(null!=l&&this.delay===l&&!1===this.pending)return r;c.clearInterval(r)}execute(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const l=this._execute(n,r);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,r){let g,l=!1;try{this.work(n)}catch(v){l=!0,g=v||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),g}unsubscribe(){if(!this.closed){const{id:n,scheduler:r}=this,{actions:l}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(l,this),null!=n&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,super.unsubscribe()}}});var T=a(3532);function b(p=0,n,r=y){let l=-1;return null!=n&&((0,T.K)(n)?r=n:l=n),new h.y(g=>{let v=function w(p){return p instanceof Date&&!isNaN(p)}(p)?+p-r.now():p;v<0&&(v=0);let M=0;return r.schedule(function(){g.closed||(g.next(M++),0<=l?this.schedule(void 0,l):g.complete())},v)})}}}]);