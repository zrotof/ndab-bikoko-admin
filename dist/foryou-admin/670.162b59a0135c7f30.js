"use strict";(self.webpackChunkforyou_admin=self.webpackChunkforyou_admin||[]).push([[670],{7971:(T,g,n)=>{n.r(g),n.d(g,{ResetPasswordModule:()=>U});var w=n(6895),p=n(298),c=n(433),f=n(805),b=n(9808),v=n(7976),e=n(8256),m=n(6256),x=n(1802),y=n(2453),P=n(6762);function R(o,d){1&o&&(e.ynx(0),e.TgZ(1,"div",13),e._UZ(2,"img",14),e.TgZ(3,"h1"),e._uU(4,"Amadou B\xc2 2024"),e.qZA()(),e.BQk())}function Z(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"p",15),e._uU(2),e.qZA(),e.BQk()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(i.message)}}function A(o,d){if(1&o&&(e.ynx(0),e.TgZ(1,"p",16),e._uU(2),e.qZA(),e.BQk()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(i.message)}}function a(o,d){1&o&&(e.TgZ(0,"p",17),e._uU(1,"Pour cr\xe9er un mot de pase s\xe9curis\xe9, vous pouvez suivre les suggestions ci-apr\xe8s"),e.qZA(),e.TgZ(2,"ul",18)(3,"li",19),e._uU(4,"Au moins un caract\xe8re en minuscule"),e.qZA(),e.TgZ(5,"li",19),e._uU(6,"Au moins un caract\xe8re en majuscule"),e.qZA(),e.TgZ(7,"li",19),e._uU(8,"Au moins un chiffre"),e.qZA(),e.TgZ(9,"li",19),e._uU(10,"Au moins 8 caract\xe8res"),e.qZA()())}function t(o,d){1&o&&(e.TgZ(0,"small",20),e._uU(1,"Renseigner votre mot de passe"),e.qZA())}function s(o,d){1&o&&(e.TgZ(0,"small",20),e._uU(1,"Confirmer votre mot de passe"),e.qZA())}const u=[{path:"",component:(()=>{class o{constructor(i,l,I,q,S){this.fb=i,this.router=l,this.authService=I,this.userService=q,this.activatedRoute=S,this.isSaveButtonClicked=!1,this.isMessageErrorDisplayed=!1,this.isUserConnected=!1,this.isRequestFailed=!1,this.isRequestSucceed=!1,this.resetPasswordForm=this.fb.group({password:["",[c.kI.required]],confirmPassword:["",[c.kI.required]]})}ngOnInit(){this.authService.isLogged$.subscribe(i=>{this.isUserConnected=i}),this.getTokenFromUrl()}get f(){return this.resetPasswordForm.controls}getTokenFromUrl(){this.activatedRoute.queryParams.subscribe(i=>{this.changePasswordToken=i.token,localStorage.setItem("changePasswordToken",this.changePasswordToken)})}onResetPassword(){if(this.isSaveButtonClicked=!0,!this.resetPasswordForm.invalid)return 0!==this.f.password.value.localeCompare(this.f.confirmPassword.value)?(this.isRequestSucceed=!1,this.isRequestFailed=!0,void(this.message="Les mots de passe ne sont pas identiques")):void this.userService.resetPassport(this.f.password.value).subscribe({next:l=>{this.isRequestFailed=!1,this.isRequestSucceed=!0,this.message=l.message,(0,b.n)((0,v.H)(4e3)).then(()=>{this.authService.logout(),this.router.navigateByUrl("se-connecter")})},error:l=>{this.isRequestSucceed=!1,this.isRequestFailed=!0,this.message=l}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(c.QS),e.Y36(p.F0),e.Y36(m.e),e.Y36(x.f),e.Y36(p.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reset-password"]],features:[e._Bn([f.ez])],decls:24,vars:8,consts:[[1,"reset-password"],[1,"content","my-container"],[1,"form-bloc"],[4,"ngIf"],[1,"right"],[3,"formGroup","submit"],[1,"field"],["formControlName","password","promptLabel"," ","styleClass","p-password","weakLabel","Mot de passe faible","mediumLabel","Mot de passe moyen","strongLabel","Mot de passe fort"],["pTemplate","header"],["class","p-error",4,"ngIf"],["formControlName","confirmPassword","styleClass","p-password p-component p-inputwrapper p-input-icon-right",3,"toggleMask","feedback"],["type","submit"],["position","top-right"],[1,"left"],["src","../../../../../assets/img/login/icon.png","alt","logo"],[1,"message-request-error"],[1,"message-request-succeed"],[2,"margin-bottom","10px"],[2,"margin-bottom","10px","list-style-position","inside"],[2,"font-size","0.92em"],[1,"p-error"]],template:function(i,l){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,R,5,0,"ng-container",3),e.TgZ(4,"div",4)(5,"form",5),e.NdJ("submit",function(){return l.onResetPassword()}),e.YNc(6,Z,3,1,"ng-container",3),e.YNc(7,A,3,1,"ng-container",3),e.TgZ(8,"h1"),e._uU(9,"Nouveau Mot De Passe"),e.qZA(),e.TgZ(10,"div",6)(11,"label"),e._uU(12,"Mot de passe"),e.qZA(),e.TgZ(13,"p-password",7),e.YNc(14,a,11,0,"ng-template",8),e.qZA(),e.YNc(15,t,2,0,"small",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"Confirmer mot de passe"),e.qZA(),e._UZ(19,"p-password",10),e.YNc(20,s,2,0,"small",9),e.qZA(),e.TgZ(21,"button",11),e._uU(22," Valider "),e.qZA()(),e._UZ(23,"p-toast",12),e.qZA()()()()),2&i&&(e.xp6(3),e.Q6J("ngIf",!l.isUserConnected),e.xp6(2),e.Q6J("formGroup",l.resetPasswordForm),e.xp6(1),e.Q6J("ngIf",l.isRequestFailed),e.xp6(1),e.Q6J("ngIf",l.isRequestSucceed),e.xp6(8),e.Q6J("ngIf",l.f.password.invalid&&l.isSaveButtonClicked),e.xp6(4),e.Q6J("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("ngIf",l.f.confirmPassword.invalid&&l.isSaveButtonClicked))},dependencies:[w.O5,c._Y,c.JJ,c.JL,c.sg,c.u,f.jx,y.FN,P.ro],styles:[".reset-password{display:flex;align-items:center;justify-content:center}.reset-password .content{display:flex;justify-content:center;align-items:center;width:100%;min-height:100vh}.reset-password .content .form-bloc{display:flex;overflow:hidden;border-radius:7px;width:-moz-fit-content;width:fit-content;box-shadow:#00000059 0 5px 15px;height:-moz-fit-content;height:fit-content}.reset-password .content .form-bloc .left{background:var(--project-primary-color);width:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;padding:20px}.reset-password .content .form-bloc .left img{width:115px}.reset-password .content .form-bloc .left h1{text-align:center;margin:20px 0}.reset-password .content .form-bloc .right{width:-moz-fit-content;width:fit-content;background-color:#fff;height:455px;display:flex;align-items:center;justify-content:center}.reset-password .content .form-bloc .right form{display:flex;flex-direction:column;width:300px;margin:0 50px}.reset-password .content .form-bloc .right form .message-request-error{padding:5px;text-align:center;margin-bottom:20px;background-color:#fddddd;color:red;font-size:.9em}.reset-password .content .form-bloc .right form .message-request-succeed{padding:5px;text-align:center;margin-bottom:20px;background-color:#f3e2b7;color:#d19706;font-size:.9em}.reset-password .content .form-bloc .right form h1{margin-bottom:10px;text-align:left}.reset-password .content .form-bloc .right form .infos{margin-bottom:35px}.reset-password .content .form-bloc .right form .field{display:flex;flex-direction:column;margin-bottom:15px;width:100%}.reset-password .content .form-bloc .right form .field label{margin-bottom:7px}.reset-password .content .form-bloc .right form .field small{margin:10px 0 0}.reset-password .content .form-bloc .right form .field .p-password,.reset-password .content .form-bloc .right form .field .p-password .p-inputtext{width:100%}.reset-password .content .form-bloc .right form .forgotten-password{text-align:right;cursor:pointer;color:#569672;transition:all .2s ease-in-out}.reset-password .content .form-bloc .right form .forgotten-password:hover{text-decoration:underline}.reset-password .content .form-bloc .right form button{margin-top:10px;padding:10px;border:1px solid black;background-color:#fff;transition:all .2s ease-in-out;font-size:1.1em}.reset-password .content .form-bloc .right form button:hover{color:#fff;background-color:#000}.reset-password .content-connected{align-items:flex-start!important}\n"],encapsulation:2}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(u),p.Bz]}),o})();var C=n(3607);let U=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[w.ez,h,c.UX,C.W]}),o})()},9808:(T,g,n)=>{n.d(g,{n:()=>p});var w=n(6805);function p(c,f){const b="object"==typeof f;return new Promise((v,e)=>{let x,m=!1;c.subscribe({next:y=>{x=y,m=!0},error:e,complete:()=>{m?v(x):b?v(f.defaultValue):e(new w.K)}})})}},7976:(T,g,n)=>{n.d(g,{H:()=>A});var w=n(9751),p=n(727);class c extends p.w0{constructor(t,s){super()}schedule(t,s=0){return this}}const f={setInterval(a,t,...s){const{delegate:r}=f;return r?.setInterval?r.setInterval(a,t,...s):setInterval(a,t,...s)},clearInterval(a){const{delegate:t}=f;return(t?.clearInterval||clearInterval)(a)},delegate:void 0};var b=n(8737);const e={now:()=>(e.delegate||Date).now(),delegate:void 0};class m{constructor(t,s=m.now){this.schedulerActionCtor=t,this.now=s}schedule(t,s=0,r){return new this.schedulerActionCtor(this,t).schedule(r,s)}}m.now=e.now;const P=new class x extends m{constructor(t,s=m.now){super(t,s),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:s}=this;if(this._active)return void s.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=s.shift());if(this._active=!1,r){for(;t=s.shift();)t.unsubscribe();throw r}}}(class v extends c{constructor(t,s){super(t,s),this.scheduler=t,this.work=s,this.pending=!1}schedule(t,s=0){if(this.closed)return this;this.state=t;const r=this.id,u=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(u,r,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(u,this.id,s),this}requestAsyncId(t,s,r=0){return f.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,s,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return s;f.clearInterval(s)}execute(t,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,s);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,s){let u,r=!1;try{this.work(t)}catch(h){r=!0,u=h||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:t,scheduler:s}=this,{actions:r}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(s,t,null)),this.delay=null,super.unsubscribe()}}});var R=n(3532);function A(a=0,t,s=P){let r=-1;return null!=t&&((0,R.K)(t)?s=t:r=t),new w.y(u=>{let h=function Z(a){return a instanceof Date&&!isNaN(a)}(a)?+a-s.now():a;h<0&&(h=0);let C=0;return s.schedule(function(){u.closed||(u.next(C++),0<=r?this.schedule(void 0,r):u.complete())},h)})}}}]);