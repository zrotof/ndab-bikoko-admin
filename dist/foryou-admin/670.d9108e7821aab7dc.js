"use strict";(self.webpackChunkforyou_admin=self.webpackChunkforyou_admin||[]).push([[670],{7971:(k,d,r)=>{r.r(d),r.d(d,{ResetPasswordModule:()=>q});var l=r(6895),a=r(298),i=r(433),c=r(805),p=r(9808),u=r(7976),e=r(8256),f=r(6256),g=r(1802),h=r(2453),w=r(6762);function x(t,n){1&t&&(e.ynx(0),e.TgZ(1,"div",13),e._UZ(2,"img",14),e.TgZ(3,"h1"),e._uU(4,"Amadou B\xc2 2024"),e.qZA()(),e.BQk())}function b(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"p",15),e._uU(2),e.qZA(),e.BQk()),2&t){const s=e.oxw();e.xp6(2),e.Oqu(s.message)}}function v(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"p",16),e._uU(2),e.qZA(),e.BQk()),2&t){const s=e.oxw();e.xp6(2),e.Oqu(s.message)}}function Z(t,n){1&t&&(e.TgZ(0,"p",17),e._uU(1,"Pour cr\xe9er un mot de pase s\xe9curis\xe9, vous pouvez suivre les suggestions ci-apr\xe8s"),e.qZA(),e.TgZ(2,"ul",18)(3,"li",19),e._uU(4,"Au moins un caract\xe8re en minuscule"),e.qZA(),e.TgZ(5,"li",19),e._uU(6,"Au moins un caract\xe8re en majuscule"),e.qZA(),e.TgZ(7,"li",19),e._uU(8,"Au moins un chiffre"),e.qZA(),e.TgZ(9,"li",19),e._uU(10,"Au moins 8 caract\xe8res"),e.qZA()())}function P(t,n){1&t&&(e.TgZ(0,"small",20),e._uU(1,"Renseigner votre mot de passe"),e.qZA())}function R(t,n){1&t&&(e.TgZ(0,"small",20),e._uU(1,"Confirmer votre mot de passe"),e.qZA())}const y=[{path:"",component:(()=>{class t{constructor(s,o,m,A,U){this.fb=s,this.router=o,this.authService=m,this.userService=A,this.activatedRoute=U,this.isSaveButtonClicked=!1,this.isMessageErrorDisplayed=!1,this.isUserConnected=!1,this.isRequestFailed=!1,this.isRequestSucceed=!1,this.resetPasswordForm=this.fb.group({password:["",[i.kI.required]],confirmPassword:["",[i.kI.required]]})}ngOnInit(){this.authService.isLogged$.subscribe(s=>{this.isUserConnected=s}),this.getTokenFromUrl()}get f(){return this.resetPasswordForm.controls}getTokenFromUrl(){this.activatedRoute.queryParams.subscribe(s=>{this.changePasswordToken=s.token,localStorage.setItem("changePasswordToken",this.changePasswordToken)})}onResetPassword(){if(this.isSaveButtonClicked=!0,!this.resetPasswordForm.invalid)return 0!==this.f.password.value.localeCompare(this.f.confirmPassword.value)?(this.isRequestSucceed=!1,this.isRequestFailed=!0,void(this.message="Les mots de passe ne sont pas identiques")):void this.userService.resetPassport(this.f.password.value).subscribe({next:o=>{this.isRequestFailed=!1,this.isRequestSucceed=!0,this.message=o.message,(0,p.n)((0,u.H)(4e3)).then(()=>{this.authService.logout(),this.router.navigateByUrl("se-connecter")})},error:o=>{this.isRequestSucceed=!1,this.isRequestFailed=!0,this.message=o}})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(i.QS),e.Y36(a.F0),e.Y36(f.e),e.Y36(g.f),e.Y36(a.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],features:[e._Bn([c.ez])],decls:24,vars:8,consts:[[1,"reset-password"],[1,"content","my-container"],[1,"form-bloc"],[4,"ngIf"],[1,"right"],[3,"formGroup","submit"],[1,"field"],["formControlName","password","promptLabel"," ","styleClass","p-password","weakLabel","Mot de passe faible","mediumLabel","Mot de passe moyen","strongLabel","Mot de passe fort"],["pTemplate","header"],["class","p-error",4,"ngIf"],["formControlName","confirmPassword","styleClass","p-password p-component p-inputwrapper p-input-icon-right",3,"toggleMask","feedback"],["type","submit"],["position","top-right"],[1,"left"],["src","../../../../../assets/img/login/icon.png","alt","logo"],[1,"message-request-error"],[1,"message-request-succeed"],[2,"margin-bottom","10px"],[2,"margin-bottom","10px","list-style-position","inside"],[2,"font-size","0.92em"],[1,"p-error"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,x,5,0,"ng-container",3),e.TgZ(4,"div",4)(5,"form",5),e.NdJ("submit",function(){return o.onResetPassword()}),e.YNc(6,b,3,1,"ng-container",3),e.YNc(7,v,3,1,"ng-container",3),e.TgZ(8,"h1"),e._uU(9,"Nouveau Mot De Passe"),e.qZA(),e.TgZ(10,"div",6)(11,"label"),e._uU(12,"Mot de passe"),e.qZA(),e.TgZ(13,"p-password",7),e.YNc(14,Z,11,0,"ng-template",8),e.qZA(),e.YNc(15,P,2,0,"small",9),e.qZA(),e.TgZ(16,"div",6)(17,"label"),e._uU(18,"Confirmer mot de passe"),e.qZA(),e._UZ(19,"p-password",10),e.YNc(20,R,2,0,"small",9),e.qZA(),e.TgZ(21,"button",11),e._uU(22," Valider "),e.qZA()(),e._UZ(23,"p-toast",12),e.qZA()()()()),2&s&&(e.xp6(3),e.Q6J("ngIf",!o.isUserConnected),e.xp6(2),e.Q6J("formGroup",o.resetPasswordForm),e.xp6(1),e.Q6J("ngIf",o.isRequestFailed),e.xp6(1),e.Q6J("ngIf",o.isRequestSucceed),e.xp6(8),e.Q6J("ngIf",o.f.password.invalid&&o.isSaveButtonClicked),e.xp6(4),e.Q6J("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("ngIf",o.f.confirmPassword.invalid&&o.isSaveButtonClicked))},dependencies:[l.O5,i._Y,i.JJ,i.JL,i.sg,i.u,c.jx,h.FN,w.ro],styles:[".reset-password{display:flex;align-items:center;justify-content:center}.reset-password .content{display:flex;justify-content:center;align-items:center;width:100%;min-height:100vh}.reset-password .content .form-bloc{display:flex;overflow:hidden;border-radius:7px;width:-moz-fit-content;width:fit-content;box-shadow:#00000059 0 5px 15px;height:-moz-fit-content;height:fit-content}.reset-password .content .form-bloc .left{background:var(--project-primary-color);width:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;padding:20px}.reset-password .content .form-bloc .left img{width:115px}.reset-password .content .form-bloc .left h1{text-align:center;margin:20px 0}.reset-password .content .form-bloc .right{width:-moz-fit-content;width:fit-content;background-color:#fff;height:455px;display:flex;align-items:center;justify-content:center}.reset-password .content .form-bloc .right form{display:flex;flex-direction:column;width:300px;margin:0 50px}.reset-password .content .form-bloc .right form .message-request-error{padding:5px;text-align:center;margin-bottom:20px;background-color:#fddddd;color:red;font-size:.9em}.reset-password .content .form-bloc .right form .message-request-succeed{padding:5px;text-align:center;margin-bottom:20px;background-color:#f3e2b7;color:#d19706;font-size:.9em}.reset-password .content .form-bloc .right form h1{margin-bottom:10px;text-align:left}.reset-password .content .form-bloc .right form .infos{margin-bottom:35px}.reset-password .content .form-bloc .right form .field{display:flex;flex-direction:column;margin-bottom:15px;width:100%}.reset-password .content .form-bloc .right form .field label{margin-bottom:7px}.reset-password .content .form-bloc .right form .field small{margin:10px 0 0}.reset-password .content .form-bloc .right form .field .p-password,.reset-password .content .form-bloc .right form .field .p-password .p-inputtext{width:100%}.reset-password .content .form-bloc .right form .forgotten-password{text-align:right;cursor:pointer;color:#569672;transition:all .2s ease-in-out}.reset-password .content .form-bloc .right form .forgotten-password:hover{text-decoration:underline}.reset-password .content .form-bloc .right form button{margin-top:10px;padding:10px;border:1px solid black;background-color:#fff;transition:all .2s ease-in-out;font-size:1.1em}.reset-password .content .form-bloc .right form button:hover{color:#fff;background-color:#000}.reset-password .content-connected{align-items:flex-start!important}\n"],encapsulation:2}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(y),a.Bz]}),t})();var C=r(3607);let q=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,T,i.UX,C.W]}),t})()}}]);